@startuml
'https://plantuml.com/sequence-diagram

autonumber

actor User

participant "ProfileActivity" as Activity
participant "ProfileRetrofit" as Re
participant "ProfileController" as Controller
participant "ProfileService" as Service
participant "ProfileRepository" as Repository

database Database
activate User

User -> Activity++: Click on the profile to update

Activity -> Re++: Send api/radical/update-profile
Re -> Controller++: HTTP POST /api/profile

Controller -> Controller: Validate input data
activate Controller
deactivate Controller

alt Validate fail
Controller-->Re: Error status
Re-->Activity: Error message
Activity-->User: Request user re-enter
else Validate success
Controller -> Service++: Call updateProfile()
Service -> Repository++: Call updateProfile()
Repository -> Database++: Update data
Database --> Repository--: Return data
Repository --> Service--: Return data

    alt Update success

Service --> Controller: Return account
Controller --> Re: Return account
Re --> Activity: Return message
Activity --> User: Return message

    else Update fail

Service --> Controller--: Return null
Controller --> Re--: Status update fail
Re --> Activity--: Error message
Activity --> User--:  Error message
end

end



@enduml