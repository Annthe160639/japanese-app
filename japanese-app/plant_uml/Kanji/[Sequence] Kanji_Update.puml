@startuml
'https://plantuml.com/sequence-diagram

autonumber

actor User

participant "Update Kanji frontend" as fe
participant "KanjiController" as Controller
participant "KanjiService" as Service
participant "KanjiRepository" as Repository

database Database
activate User

User -> fe++: Click on the letter you want to update

fe -> Controller++: HTTP POST /api/update_alphabet

Controller -> Controller: Validate input data
activate Controller
deactivate Controller

alt Validate fail
Controller-->fe: Error status
fe-->User: Error message
fe-->User: Request user re-enter
else Validate success
Controller -> Service++: Call updateKanji()
Service -> Repository++: Call updateKanji()
Repository -> Database++: Update data
Database --> Repository--: Return data
Repository --> Service--: Return data

    alt Update success

Service --> Controller: Return kanji
Controller --> fe: Return kanji
fe --> User: Return message

    else Update fail

Service --> Controller--: Return null
Controller --> fe--: Status update fail
fe --> User--: Error message

end

end



@enduml